<h2 mat-dialog-title>{{ 'booking.title' | translate }}</h2>

<mat-dialog-content>
  <div *ngIf="feedback$ | async as feedback" fxLayout="row" fxLayoutAlign="center center">
    <span fxFlex="0 1 auto">{{ feedback }}</span>
  </div>

  <form
    fxLayout="row wrap"
    fxLayoutAlign="start stretch"
    fxLayoutGap="10px"
    [formGroup]="bookingForm"
    (ngSubmit)="submitForm()"
    novalidate
    class="mat-body-2"
  >
    <!-- venue details -->
    <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="10px">
      <span fxFlex="0 1 auto">{{ 'booking.form.venue.title' | translate }}</span>
      <mat-divider fxFlex></mat-divider>
    </div>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="venueName"
        formControlName="venueName"
        placeholder="{{ 'booking.form.venue.name' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.venueName.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.venue.name' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        [matDatepicker]="picker"
        readonly
        (click)="picker.open()"
        placeholder="{{ 'booking.form.date' | translate }}"
        formControlName="date"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="bookingForm.controls.date.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.date' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="number"
        name="venueCapasity"
        formControlName="venueCapacity"
        placeholder="{{ 'booking.form.venue.capacity' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.venueCapacity.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.venue.capacity' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="venueAddress"
        formControlName="venueAddress"
        placeholder="{{ 'booking.form.venue.address' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.venueAddress.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.venue.address' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="message"
        formControlName="venueWebsite"
        placeholder="{{ 'booking.form.venue.website' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.venueWebsite.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.venue.website' | translate }}
      </mat-error>
    </mat-form-field>

    <!-- event details -->
    <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="10px">
      <span fxFlex="0 1 auto">{{ 'booking.form.event.title' | translate }}</span>
      <mat-divider fxFlex></mat-divider>
    </div>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="eventName"
        formControlName="eventName"
        placeholder="{{ 'booking.form.event.name' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.eventName.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.event.name' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="eventWebsite"
        formControlName="eventWebsite"
        placeholder="{{ 'booking.form.event.website' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.eventWebsite.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.event.website' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="ticketCost"
        formControlName="ticketCost"
        placeholder="{{ 'booking.form.event.ticket' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.ticketCost.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.ticketCost' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="ticketCost"
        formControlName="lineup"
        placeholder="{{ 'booking.form.event.lineup' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.lineup.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.lineup' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="start"
        formControlName="start"
        placeholder="{{ 'booking.form.time.start' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.start.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.time.start' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="end"
        formControlName="end"
        placeholder="{{ 'booking.form.time.end' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.end.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.time.end' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="stageTime"
        formControlName="stageTime"
        placeholder="{{ 'booking.form.time.stage' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.stageTime.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.time.stage' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="fee"
        formControlName="fee"
        placeholder="{{ 'booking.form.fee' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.fee.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.fee' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <textarea
        matInput
        type="text"
        name="artistsBookedEarlier"
        formControlName="artistsBookedEarlier"
        placeholder="{{ 'booking.form.booked' | translate }}"
      ></textarea>
    </mat-form-field>

    <!-- event details -->
    <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center center" fxLayoutGap="10px">
      <span fxFlex="0 1 auto">{{ 'booking.form.promoter.title' | translate }}</span>
      <mat-divider fxFlex></mat-divider>
    </div>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="company"
        formControlName="company"
        placeholder="{{ 'booking.form.promoter.company' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.company.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.promoter.company' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="contact"
        formControlName="contact"
        placeholder="{{ 'booking.form.promoter.contact' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.contact.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.promoter.contact' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="email"
        formControlName="email"
        placeholder="{{ 'booking.form.promoter.email' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.email.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.promoter.email' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="phone"
        formControlName="phone"
        placeholder="{{ 'booking.form.promoter.phone' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.phone.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.promoter.phone' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field fxFlex="100">
      <input
        matInput
        type="text"
        name="website"
        formControlName="website"
        placeholder="{{ 'booking.form.promoter.website' | translate }}"
      />
      <mat-error *ngIf="bookingForm.controls.website.invalid" class="mat-body-1">
        {{ 'booking.form.invalid.promoter.website' | translate }}
      </mat-error>
    </mat-form-field>

    <div>
      <span fxFlex fxHide="true">
        <mat-toolbar class="controls" fxLayout.xs="row wrap" fxLayoutAlign="center center">
          <button
            mat-button
            tabindex="-1"
            type="submit"
            [disabled]="bookingForm.invalid || bookingForm.pristine"
            attr.aria-label="submit"
            color="accent"
          >
            <mat-icon class="metarial-icons">done</mat-icon> {{ 'form.submit' | translate }}
          </button>
        </mat-toolbar>
      </span>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions fxLayoutAlign="center center">
  <button
    mat-button
    tabindex="-1"
    (click)="submitForm()"
    type="button"
    [disabled]="bookingForm.invalid || bookingForm.pristine"
    matTooltip="{{ 'action.confirm' | translate }}"
    color="accent"
  >
    <mat-icon class="metarial-icons">done</mat-icon>
    <span [fxHide.xs]="true"> {{ 'action.confirm' | translate }}</span>
  </button>

  <button
    mat-button
    tabindex="-1"
    type="button"
    (click)="closeDialog()"
    matTooltip="{{ 'action.close' | translate }}"
  >
    <mat-icon class="metarial-icons">close</mat-icon
    ><span [fxHide.xs]="true"> {{ 'action.close' | translate }}</span>
  </button>
</mat-dialog-actions>
